{% form_theme form 'form/fields.html.twig' %}
{% extends 'layouts/main-layout.html.twig' %}

{% block content %}
    <div class="form-container">
        <h1 class="page-header">Crear Reclamaci&oacuten <small class="text" style="display: inline">Datos Generales</small></h1>

        {{ form_start(form) }}
        <input type="hidden" id="select_reference" name="select_reference" value=""><!--Aqui pone el id del booking con js-->

        <!--busqueda del booking-->
        <div class="row">
            <div class="col-md-3">
                <div class="input-group">
                    <input type="search" class="form-control" id="find_booking" name="booking" aria-describedby="btn_find_booking">
                    <a class="input-group-addon" id="btn_find_booking" href="javascript:void(0);" onclick="findBookingClaim(this.previousSibling.id)">
                        <span class="glyphicon glyphicon-search"></span>
                    </a>
                </div>
            </div>
        </div>

        <!--detalles del booking-->
        <div class="row">
            <div class="col-md-12" id="container_booking_detail">
                {{ include(':incidence:booking_detail.html.twig') }}
            </div>
        </div>

        <!--Encabezado del tab-->
        <div class="row">
            <div class="col-md-12">
                <ul class="nav nav-tabs" role="tablist" id="myTab">
                    <li role="presentation"  class="active"><a href="#home" aria-controls="home" role="tab" data-toggle="tab">Datos Generales</a></li>
                    {#<li role="presentation"><a href="#profile" aria-controls="profile" role="tab" data-toggle="tab">Acciones</a></li>#}
                    {#<li role="presentation"><a href="#costs" aria-controls="costs" role="tab" data-toggle="tab">Costos</a></li>#}
                </ul>
            </div>
        </div>

        <!-- Tab panes -->
        <div class="tab-content">
            <!--Datos generales-->
            <div role="tabpanel" class="tab-pane fade in active" id="home">
                <!-- en esta primera fila van las 2 columnas con ls input la fecha y el lugar-->
                <div class="row">
                    <div class="col-md-4">
                        {{ form_row(form.claimDate) }}

                        <div class="form-group">
                            {{ form_label(form.incidences) }}
                            {{ form_errors(form.incidences) }}
                            {{ form_widget(form.incidences) }}
                        </div>

                        {{ form_row(form.personsAmount) }}
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            {{ form_label(form.state) }}
                            {{ form_errors(form.state) }}
                            {{ form_widget(form.state) }}
                        </div>
                    </div>
                </div>

                <!--Este div es para mostrar los selects q vienen desde ajax-->
                <div class="row">

                    <!-- en este div es donde alternare las personas para el caso 1: interna, 2: Provedor-->
                    <div class="altern-result form-group">

                    </div>
                    <!--services booking-->
                    <div class="col-md-3">
                        <div class="form-group">
                            <div id="container_select_service" {#style="margin: 7px 24px;"#}>

                            </div>
                        </div>
                    </div>
                    <!--Clients div-->
                    <div class="col-md-3">
                        <div class="form-group">
                            <div id="container_booking_clients" {#style="margin: 7px 24px;"#}>

                            </div>
                        </div>
                    </div><!--end .col-md-3-->

                </div>

                <!--Esta fila es para mostrar los textarea de la descipcion y las causas-->
                <div class="row">
                    <div class="col-md-12">
                        {#{{ form_row(form.description, {'attr':{'rows':'4'}}) }}#}
                    </div>
                </div><!--end .row-->
                <div class="row">
                    <div class="col-md-12">
                        {#{{ form_row(form.causes, {'attr':{'rows':'4'}}) }}#}
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3">
                        <div class="form-group">
                            {{ form_row(form.closingDate) }}
                        </div>
                    </div>
                </div>

            </div><!--end #home-->

            <div class="form-group">
                <input type="submit" value="Crear" class="btn btn-primary"/>
                <a href="{{ path('incidence_index') }}" class="btn btn-default">Volver al listado</a>
            </div>
        </div><!--role="tabpanel"-->
        {{ form_end(form) }}
    </div>

{% endblock %}
